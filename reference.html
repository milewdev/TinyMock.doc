---
---
<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <title>TinyMockJS Reference</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="syntax.css">
  </head>
    
  <body class="reference">
    
    <nav class="common">
      <ul>
        <li><a href="index.html">TinyMockJS</a></li>
        <li><a href="installation.html">Installation</a></li>
        <li><a href="tutorial.html">Tutorial</a></li>
        <li><a href="reference.html">Reference</a></li>
        <li><a href="https://github.com/milewgit/TinyMockJS">Source</a></li>
      </ul>
    </nav>
      
    <section>
      
      <header>
        <h1>Reference</h1>
      </header>
      
      <article>
        <ul class="fancy">
        
          <li>
            <p class="usage">
              <a name="args" href="#args">args(arg [, arg, ...])</a>
            </p>
            <p>
              Optional.  Specifies expected arguments to the expectation.  One or more arg must be supplied; do not use arg(), instead simply do not use args at all.  Can be chained.  Can only be specified once.
            </p>
            <p>
              Example:
            </p>
            <pre class="code"><span class="dim">chai   = require("chai")
should = chai.should()
mock   = require("TinyMockJS").mock
Chat   = require("../src/Chat").Chat

describe "Chat", ->
  describe "greet(my_name)", ->
    it "sends a greeting and returns the response", ->
      mock (socket) ->
        socket.expects("write")</span>.args("Hello, my name is Aristotle.\n")<span class="dim">
        socket.expects("read").returns("Greetings Aristotle!\n")
        chat = new Chat(socket)
        chat.greet("Aristotle").should.equal("Greetings Aristotle!\n")</span></pre>
            <p>
              Other examples:
            </p>
            <pre class="code"><span class="dim">a.expects("b")</span>.args(1, 2, "three")            # many arguments
<span class="dim">a.expects("b")</span>.args( {name: "Aristotle"} )    # an object
<span class="dim">a.expects("b")</span>.args()                         # incorrect: supply at least one arg
<span class="dim">a.expects("b")</span>                                # correct
<span class="dim">a.expects("b")</span>.args(1).args("two")            # incorrect: use args() only once per expectation
<span class="dim">a</span>.args(1)<span class="dim">.expects("b")</span>                        # incorrect: must be called right after expects()</pre>
          </li>
        
        
          <li>
            <p class="usage">
              <a name="expects" href="#expects">expects(method_name)</a>
            </p>
            <p>
              Can be chained.
            </p>
            <p>
              Example:
            </p>
            <pre class="code"><span class="dim">chai   = require("chai")
should = chai.should()
mock   = require("TinyMockJS").mock
Chat   = require("../src/Chat").Chat

describe "Chat", ->
  describe "greet(my_name)", ->
    it "sends a greeting and returns the response", ->
      mock (socket) ->
        socket</span>.expects("write")<span class="dim">.args("Hello, my name is Aristotle.\n")
        socket</span>.expects("read")<span class="dim">.returns("Greetings Aristotle!\n")
        chat = new Chat(socket)
        chat.greet("Aristotle").should.equal("Greetings Aristotle!\n")</span></pre>
            <p>
              Other examples:
            </p>
            <pre class="code"><span class="dim">a</span>.expects()                    # incorrect: supply a method name
<span class="dim">a</span>.expects("a", "b")            # incorrect: one method name per call
<span class="dim">a</span>.expects("a").expects("b")    # correct
<span class="dim">a</span>.expects("a")                 # also correct
<span class="dim">a</span>.expects("b")</pre>
          </li>
        
        
          <li>
            <p class="usage">
              <a name="mock" href="#mock">mock [options,] callback</a>
            </p>
            <p>
              
            </p>
          </li>
        
        
          <li>
            <p class="usage">
              <a name="require" href="#require">require</a>
            </p>
            <p>
              Use the <a href="http://nodejs.org">Node.js</a> 
              <a href="http://openmymind.net/2012/2/3/Node-Require-and-Exports/">require()</a> 
              function to gain access to TinyMockJS:
            </p>
            <pre class="code"><span class="dim">chai   = require("chai")
should = chai.should()</span>
mock   = require("TinyMockJS").mock
<span class="dim">Chat   = require("../src/Chat").Chat

describe "Chat", ->
  describe "greet(my_name)", ->
    it "sends a greeting and returns the response", ->
      mock (socket) ->
        socket.expects("write").args("Hello, my name is Aristotle.\n")
        socket.expects("read").returns("Greetings Aristotle!\n")
        chat = new Chat(socket)
        chat.greet("Aristotle").should.equal("Greetings Aristotle!\n")</span></pre>
          </li>
        
        
          <li>
            <p class="usage">
              <a name="returns" href="#returns">returns(value)</a>
            </p>
          </li>
        
        
          <li>
            <p class="usage">
              <a name="throws" href="#throws">throws(error)</a>
            </p>
          </li>
        </ul>
      </article>
    </section>
    
    <footer>
      <article>
        &copy; 2014 milewgit
      </article>
    </footer>

  </body>  
</html>
